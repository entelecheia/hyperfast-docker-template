#########################################################
# Configuration parameters for the docker project       #
# Change the variables below to your need:              #
#########################################################
APP_NAME="{{ docker_registry }}"                  # The name of the project
APP_VARIANT="{{ docker_app_image_variant_name }}" # The variant of the project
APP_SOURCE_REPO="{{ app_source_repo }}"           # The GitHub repository name of the project
APP_SOURCE_BRANCH="{{ app_source_branch }}"       # The branch of the project to clone
APP_INSTALL_ROOT="{{ app_install_root }}"         # The directory in the container where the project will be installed or cloned
APP_CLONE_DIRNAME={{ app_clone_dirname }}         # The directory name for the cloned project
APP_SERVER_NAME={{ app_server_name }}             # The server name (optional, can be left empty)
APP_CUDA_DEVICE_ID="{{ cuda_device_id }}"         # The ID of the CUDA device to use, e.g. all, 0, 1, 2, etc.
APP_HOST_SSH_PORT="{{ ssh_host_port }}"           # The SSH port on the host machine to be mapped to the container's SSH port
APP_HOST_WEB_SVC_PORT="{{ jupyter_host_port }}"   # The Web service port on the host machine to be mapped to the container's Web service port
GIT_COMMIT_GPGSIGN=${GIT_COMMIT_GPGSIGN:-"false"} # Whether to GPG-sign Git commits

#######################################################################################
# Host machine environment variables                                                  #
#######################################################################################
SYSTEM_HOSTNAME=${SYSTEM_HOSTNAME:-"$(hostname)"}               # The hostname of the System. If not set, the system's hostname will be used.
WORKSPACE_ROOT=${WORKSPACE_ROOT:-"/home/${USERNAME}/workspace"} # The workspace directory on the host machine

#######################################################################################
# Please do not make any changes below this line if you don't know what you are doing #
# change the variables above to your need                                             #
#######################################################################################
# docker build: Configuration parameters for building the Docker image
CONTAINTER_REGISTRY="{{ docker_registry }}"                   # The Docker registry to push the image to.
DOCKER_NAME=${APP_NAME:-"{{ docker_registry }}"}              # The base name of the Docker image.
VARIANT=${APP_VARIANT:-"{{ docker_app_image_variant_name }}"} # The variant of the Docker image.
DOCKER_USERNAME=${DOCKER_USERNAME:-"{{ docker_username }}"}   # The username for Docker.
USER_UID=${USER_UID:-"{{ docker_container_uid }}"}            # The user ID in the Docker container.
USER_GID=${USER_GID:-"{{ docker_container_uid }}"}            # The group ID in the Docker container.
CONTAINER_WORKSPACE_ROOT="/workspace"                         # The workspace directory in the Docker container

VERSION=${APP_VERSION:-"1.0.0"}                                          # The version of the Docker image. If not set, "1.0.0" will be used.
IMAGE_TAG="${VERSION}-${VARIANT}"                                        # The tag of the Docker image
IMAGE_NAME="${DOCKER_USERNAME}/${DOCKER_NAME}"                           # The full name of the Docker image
BASE_VARIANT=${APP_VARIANT:-"{{ docker_base_image_variant_name }}"}      # The variant of the Docker image.
BUILD_FROM="${CONTAINTER_REGISTRY}/${IMAGE_NAME}:latest-${BASE_VARIANT}" # The base image for the Docker build

# docker run: Configuration parameters for running the Docker container
CONTAINER_HOSTNAME="${DOCKER_NAME}-${SYSTEM_HOSTNAME}" # The hostname of the Docker container
DOCKER_NETWORK_NAME="${DOCKER_NAME}-network"           # The name of the Docker network
CONTAINER_IPC="host"                                   # The IPC mode for the Docker container
CUDA_DEVICE_ID=${APP_CUDA_DEVICE_ID}                   # The ID of the CUDA device to use.
SSH_PORT="22"                                          # The SSH port in the Docker container
HOST_SSH_PORT=${APP_HOST_SSH_PORT}                     # The SSH port on the host machine to be mapped to the container's SSH port.
WEB_SVC_PORT="8000"                                    # The Web service port in the Docker container
HOST_WEB_SVC_PORT=${APP_HOST_WEB_SVC_PORT}             # The Web service port on the host machine to be mapped to the container's Web service port.

LAUNCH_SCRIPT="${CONTAINER_WORKSPACE_ROOT}/scripts/{{ launch_scripts }}" # The name of the launch script
